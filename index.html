<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>åªä¸ºä½ å‡†å¤‡çš„å¹¸è¿è½¬ç›˜ ğŸ’•</title>

<style>
body{
    margin:0;
    overflow:hidden;
    background:linear-gradient(135deg,#ff9a9e,#fad0c4);
    font-family:-apple-system,BlinkMacSystemFont,"PingFang SC";
    text-align:center;
    color:#fff;
}

/* çˆ±å¿ƒé£˜è½ */
.heart{
    position:fixed;
    top:-10px;
    color:white;
    font-size:20px;
    animation:fall 6s linear infinite;
}
@keyframes fall{
    to{ transform:translateY(110vh); opacity:0;}
}

h1{margin-top:30px;}

#wheel{
    margin:30px auto;
    width:320px;
    height:320px;
    border-radius:50%;
    border:10px solid #fff;
    position:relative;
    transition:transform 4s cubic-bezier(0.33,1,0.68,1);
    box-shadow:0 0 30px rgba(255,255,255,0.8);
    background:conic-gradient(
        #ccc 0deg 36deg,
        #ddd 36deg 72deg,
        #ccc 72deg 108deg,
        #ddd 108deg 144deg,
        #ccc 144deg 180deg,
        #ddd 180deg 216deg,
        #ff9ff3 216deg 252deg,
        #feca57 252deg 288deg,
        #48dbfb 288deg 324deg,
        #ff6b6b 324deg 360deg
    );
}

.segment{
    position:absolute;
    width:100%;
    height:100%;
    display:flex;
    justify-content:center;
    align-items:flex-start;
    font-size:14px;
    font-weight:bold;
    transform-origin:center center;
}

.arrow{
    width:0;height:0;
    border-left:15px solid transparent;
    border-right:15px solid transparent;
    border-bottom:30px solid #fff;
    margin:0 auto;
}

button{
    padding:15px 40px;
    font-size:18px;
    border:none;
    border-radius:30px;
    background:#fff;
    color:#ff6b6b;
    cursor:pointer;
    margin-top:20px;
}

#result{
    margin-top:30px;
    font-size:22px;
    font-weight:bold;
}

#popup{
    display:none;
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.8);
    justify-content:center;
    align-items:center;
}

.popup-box{
    background:#fff;
    color:#ff6b6b;
    padding:40px;
    border-radius:20px;
    text-align:center;
    width:320px;
}

.yes-btn{
    background:#ff6b6b;
    color:#fff;
    margin-top:20px;
}
</style>
</head>

<body>

<h1>å¹¸è¿è½¬ç›˜ ğŸ’•</h1>

<div class="arrow"></div>
<div id="wheel"></div>

<button onclick="spin()">å¼€å§‹æŠ½å¥–</button>

<div id="result"></div>

<audio id="bgm" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5a6fa2e1f3.mp3?filename=romantic-background-112199.mp3" type="audio/mp3">
</audio>

<div id="popup">
  <div class="popup-box">
    <h2>ä½ æ„¿æ„åšæˆ‘çš„å¥³æœ‹å‹å—ï¼ŸğŸ’–</h2>
    <button class="yes-btn" onclick="love()">æ„¿æ„ ğŸ’•</button>
  </div>
</div>

<script>
const prizes=[
"æ²¡ä¸­å¥–","æ²¡ä¸­å¥–","æ²¡ä¸­å¥–",
"æ²¡ä¸­å¥–","æ²¡ä¸­å¥–","æ²¡ä¸­å¥–",
"ğŸ“¸ æ‹ç«‹å¾—",
"ğŸ¶ çº¿æ¡å°ç‹—",
"ğŸŒ¹ é²œèŠ±",
"ğŸ’– è·å¾—æ‰€æœ‰ç¤¼å“"
];

const wheel=document.getElementById("wheel");

prizes.forEach((text,i)=>{
    const div=document.createElement("div");
    div.className="segment";
    div.style.transform="rotate("+(i*36)+"deg) translateY(-130px)";
    if(text==="æ²¡ä¸­å¥–") div.style.color="#999";
    div.innerHTML=text;
    wheel.appendChild(div);
});

function spin(){
    const result=document.getElementById("result");
    const music=document.getElementById("bgm");
    music.play();

    let deg=3600+324; 
    wheel.style.transform="rotate("+deg+"deg)";

    setTimeout(()=>{
        result.innerHTML=`
        ğŸ‰ æ­å–œä½ è·å¾—ï¼š<br><br>
        ğŸ“¸ æ‹ç«‹å¾— + ğŸ¶ çº¿æ¡å°ç‹— + ğŸŒ¹ é²œèŠ± + ğŸ’– æˆ‘çš„å¿ƒ
        <br><br>
        <button onclick="showPopup()">ç‚¹å‡»é¢†å–</button>
        `;
    },4000);
}

function showPopup(){
    document.getElementById("popup").style.display="flex";
}

function love(){
    document.querySelector(".popup-box").innerHTML=
    "<h2>ä»ä»Šå¤©å¼€å§‹ï¼Œä½ å°±æ˜¯æˆ‘çš„å¥³æœ‹å‹äº† ğŸ’•</h2><br>ä»¥åæ‰€æœ‰èŠ‚æ—¥éƒ½é™ªä½ è¿‡ã€‚";
    fireworks();
}

function fireworks(){
    for(let i=0;i<50;i++){
        let heart=document.createElement("div");
        heart.className="heart";
        heart.innerHTML="ğŸ’–";
        heart.style.left=Math.random()*100+"vw";
        heart.style.animationDuration=(3+Math.random()*3)+"s";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),6000);
    }
}
</script>

</body>
</html>
